% !TeX root = surprises.tex

\usepackage{mathpazo}
\usepackage{url}
\usepackage{subcaption}

% TOC for chapters and sections
\setcounter{tocdepth}{1} 

% TikZ
\usepackage{tikz}
\usetikzlibrary{positioning,through,calc,%
  intersections,arrows.meta,%
  external,shapes.geometric}
\tikzset{>=stealth}
\tikzexternalize[prefix=tikz/]

% Fixed size of circle in vertex
\newcommand*{\vertex}[1]
  {\fill[shift only] (#1) circle (1.5pt)}
\newcommand*{\vertexcolor}[2]
  {\fill[shift only,#2] (#1) circle (1.5pt)}

% QED symbol at end of proofs
\newcommand\qed{\hfill\hbox{\rlap{$\sqcap$}$\sqcup$}}

% Display style for fractions
\newcommand*{\disfrac}[2]{\displaystyle\frac{#1}{#2}}

% Very small size of math symbols 
\newcommand*{\sm}[1]{$\scriptstyle #1$}

% Symbol for use in constructibility of heptadecagon
\newcommand*{\occ}[2]{%
  \stackrel{\textstyle r^{#1}}{\!\!\!\scriptscriptstyle #2}}

% Polyglossia Hebrew (main) and English (other)
\usepackage{polyglossia}  
\setmainlanguage{hebrew}
\setotherlanguage{english}

% Fonts: David for Hebrew, Palatino/Courier for English
\newfontfamily{\hebrewfont}{David}[Script=Hebrew]
\newfontfamily{\englishfont}{Palatino Linotype}
\newfontfamily{\englishfonttt}{Courier New}

% Abbreviations for backwards compatibility with babel
\renewcommand*{\L}[1]{\textenglish{\small #1}}
\newcommand*{\R}[1]{\texthebrew{#1}}

% Modify page layout
\setlength{\textheight}{230mm}
\setlength{\topmargin}{-4mm}
\setlength{\textwidth}{147mm}
\setlength{\oddsidemargin}{5mm}
\parindent=0pt
\renewcommand{\baselinestretch}{1.1}
\setlength{\parskip}{0.4\baselineskip plus 1pt minus 1pt}

% Environments for theorems and definitions
\newtheorem{theorem}{משפט}[chapter]
\newtheorem{definition}{הגדרה}[chapter]
\newtheorem{axiom}[theorem]{אקסיומה}
\newtheorem{example}{דוגמה}[chapter]
\newenvironment{proof}{\vspace{-1ex}\textbf{הוכחה}}{\qed}

% Subfigures captions
\DeclareCaptionSubType*{figure}
\captionsetup[subfigure]{labelformat=simple}

% Box advanced material
\newenvironment{advanced}{
\begin{center}
\begin{tabular}
  {|@{\hspace*{1em}}p{0.9\textwidth}@{\hspace*{1em}}|}
  \hline\smallskip}{\\\\\hline
\end{tabular} 
\end{center}}

% Reduce space around c column in eqn
\newenvironment{eqn}
  {\addtolength{\arraycolsep}{-3pt}\begin{eqnarray*}}
  {\end{eqnarray*}}

% Reduce space around c column in eqnarray with labels
\newenvironment{eqnlabels}
  {\addtolength{\arraycolsep}{-3pt}
   \begin{eqnarray}}
  {\end{eqnarray}}

% Alter some LaTeX defaults for better treatment of figures
\renewcommand{\topfraction}{0.9}
\renewcommand{\bottomfraction}{0.8}
\setcounter{topnumber}{1}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{3}
\renewcommand{\textfraction}{0.07}
\renewcommand{\floatpagefraction}{0.7}
