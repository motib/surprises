% !TeX root = surprises.tex

\selectlanguage{hebrew}

\chapter{אינדוקציה}\label{c.induction}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

האקסיומה של אינדוקציה מתמטית נמצאת בשימוש נרחב כשיטת הוכחה במתימטיה. פרק זה מציג הוכחות אינדוקטיביות של תוצאות שייתכן שהן לא מוכרות לקורא. נתחיל אם סקירה קצרה של אינדוקציה מתמטית (סעיף%
~\ref{s.induction-axiom}).
סעיף%
~\ref{s.induction-fibonacci}
מביא הוכחות של משפטים על מספרי
\L{Fibonacci}
המוכרים וסעיף%
~\ref{s.induction-fermat}
מביא הוכחות של משפטים על מספרי
\L{Fermat}.
בסעיף%
~\ref{s.induction-mccarthy}
נציג את פונקציה 
$91$
של 
\L{John McCarthy};
ההוכחה היא לא שגרתית כי היא משתמשת באינדוקציה על מספרים שלמים בסדר הפוך. הוכחת הנוסחה עבור הבעיה של
\L{Josephus}
(יוסף בן-מתתיהו) גם היא לא שגרתית כי היא משתמשת באינדוקציה כפולה על חלקים שונים של ביטוי (סעיף%
.~\ref{s.josephus}).

\section{האקסיומה של אינדוקציה מתמטית}\label{s.induction-axiom}

אינדוקציה מתמטית היא הדרך המובילה להוכיח משפטים עבור קבוצה לא חסומה של מספרים. נעיין במשוואות הללו:
\[
1=1,\quad 1+2=3,\quad 1+2+3=6,\quad 1+2+3+4=10\,,
\]
נשים לב ש:
\[
1=(1\cdot 2)/2,\quad 3=(2\cdot 3)/2,\quad  6=(3\cdot 4)/2,\quad 10=(4\cdot 5)/2\,,
\]
ונשער שעבור
\textbf{כל}
המספרים שלמים
$n\geq 1$:
\[
\sum_{i=1}^n i = \frac{n(n+1)}{2}\,.
\]
עם מספיק סבלנות קל לבדוק את הנוסחה עבור כל ערך של
$n$
אבל איך אפשר להוכיח עבור אינסוף מספרים שלמים חיוביים? כאן נכנסה אינדוקציה מתמטית.

\begin{axiom}
יהי
$P(n)$
תכונה (כגון משוואה, נוסחה או משפט), כאשר 
$n$
הוא מספר שלם חיובי. נניח שניתן ל:
\begin{itemize}
\item \textbf{טענת הבסיס}: 
הוכיח ש-%
$P(1)$
נכונה.
\item \textbf{צעד אינדוטיבי}:
עבור 
$m$
שרירותי, להוכיח ש-%
$P(m+1)$
נכונה בהנחה ש-%
$P(m)$
נכונה.
 is true.
\end{itemize}
אזי
$P(n)$
נכונה עבור כל
$n\geq 1$.
ההנחה ש-%
$P(m)$
נכונה עבור 
$m$ 
שרירותי נקראת
\textbf{הנחת האינדוקציה}.
\end{axiom}
הנה דוגמה פשוטה עבור הוכחה באינדוקציה מתמטית.
\begin{theorem}\label{t.sum}
עבור
$n\geq 1$:
\[
\sum_{i=1}^n i = \frac{n(n+1)}{2}\,.
\]
\end{theorem}

\begin{proof} 
טענת הבסיס פשוטה:
\[
\sum_{i=1}^1 i = 1 =\frac{1(1+1)}{2}\,.
\]
הנחת האינדוקציה היא שמשוואה שלהלן נכונה עבור כל 
$m$:
\[
\sum_{i=1}^{m} i = \frac{m(m+1)}{2}\,.
\]
הצעד האינדוקטיבי הוא להוכיח את המשפט עבור
$m+1$:
\begin{eqn}
\sum_{i=1}^{m+1} i &=& \sum_{i=1}^m i + (m+1)\label{l.sum1}\\
&=&\frac{m(m+1)}{2} + (m+1)\label{l.sum2}
%&=&\frac{m(m+1) + 2(m+1)}{2}\label{l.sum3}\\
=\frac{(m+1)(m+2)}{2}\,.\label{l.sum4}
\end{eqn}
לפי האקסיומה של אינדוקציה מתמטית, עבור כל
$n\geq 1$:
\[
\sum_{i=1}^n i = \frac{n(n+1)}{2}\,.
\]
\end{proof}
הנחת האינדוקציה יכולה לבלבל כי נראה שאנחנו מניחים את מה שרוצים להוכיח. אין כאן הסקת מסקנות מעגלית כי ההנחה היא עבור תכונה של משהו 
\textbf{קטן}
ומשתמשים בהנחה להוכיח תכונה עבור משהו
\textbf{גדול}.

אינדוקציה מתמטית היא אקסיומה ולכן משמעות להוכיח אותה. פשוט צריכים לקבל אותה כמו שמקבלים אקסיומות אחרות כגון
$x+0=x$.
כמובן תוכלו לדחות את האקסיומה אבל אז תצטרכו לדחות חלק גדול מהמתמטיקה המודרנית.
\begin{advanced}
אינדוקציה מתמטית היא כלל היסק שהוא אחד מאקסיומות
\L{Peano}
לפורמלזציה של המספרים הטבעיים. ניתן להוכיח את האקסיומה המאקסיומה אחרת כגון אקסיומה
\L{well ordering},
ולהיפך, אבל לא ניתן להוכיח אות מאקסיומות אחרות, פשוטות יותר, של 
\L{Peano}.
\end{advanced}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{מספרי \L{Fibonacci}}\label{s.induction-fibonacci}

מספרי פיבונצ'י מוגדרים ברקורסיה:

\begin{eqn}
f_1 &=& 1\\
f_2 &=& 1\\
f_n &=& f_{n-1} + f_{n-2}, \;\;  n \geq 3 \;\; \textrm{\R{עבור}}\,.
\end{eqn}
שנים עשר מספרי פיבונצ'י הראשונים הם:
$
1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144
$.
\begin{theorem}\label{thm.fib-div3}
כל מספר פיבונצ'י רביעי מתחלק ב-%
$3$.
\end{theorem}
\textbf{דוגמאות:}
$f_4=3=3\cdot 1,\; f_8=21=3\cdot 7,\; f_{12}=144=3\cdot 48$.

\textbf{הוכחה:}
טענת הבסיס מתקבלת באופן מיידי כי
$f_4=3$
מתחלק ב-%
$3$.
הנחת האינדוקציה היא ש-%
$f_{4n}$
מתחלק ב-%
$3$.
הצעד האינדוקטיבי הוא:

\begin{eqn}
f_{4(n+1)} &=& f_{4n+4}\\
&=& f_{4n+3}+f_{4n+2}\\
&=& (f_{4n+2}+f_{4n+1})+f_{4n+2}\\
&=& ((f_{4n+1}+f_{4n})+f_{4n+1})+f_{4n+2}\\
&=& ((f_{4n+1}+f_{4n})+f_{4n+1})+(f_{4n+1}+f_{4n})\\
&=& 3f_{4n+1}+2f_{4n}\,.
\end{eqn}



$3f_{4n+1}$
מתחלק ב-%
$3$
ולפי הנחת האינדוקציה גם
$f_{4n}$,
ולכן
$f_{4(n+1)}$
מתחלק ב-%
$3$.\qed


%

\begin{theorem}\mbox{}\label{thm.seven-fourths}\\
$f_n < \left(\disfrac{7}{4}\right)^n$.
\end{theorem}
\textbf{הוכחה:}
טענות הבסיס:
$f_1=1<\left(\disfrac{7}{4}\right)^1$
ו-%
$f_2=1<\left(\disfrac{7}{4}\right)^2=\disfrac{49}{16}$.

הצעד האינדוקטיבי:
\begin{eqn}
f_{n+1}&=&f_n+f_{n-1}\\
&<&\left(\frac{7}{4}\right)^n + f_{n-1}\\
%&<&\left(\frac{7}{4}\right)^n + \left(\frac{7}{4}\right)^{n-1}\\
&=&\left(\frac{7}{4}\right)^{n-1}\cdot\left(\frac{7}{4}+1\right)\\
&<&\left(\frac{7}{4}\right)^{n-1}\cdot\left(\frac{7}{4}\right)^2\\
&=&\left(\frac{7}{4}\right)^{n+1},
\end{eqn}
בגלל ש-%
\[
\left(\frac{7}{4}+1\right) = \frac{11}{4} = \frac{44}{16}<\frac{49}{16}=\left(\frac{7}{4}\right)^2.
\]
\qed

\begin{theorem}[\L{Binet}]
\begin{displaymath}
f_n = \frac{\phi^n - \bar{\phi}^n}{\sqrt{5}}, \;\;\;\;\;
\phi = \frac{1+\sqrt{5}}{2},\;\;\bar{\phi} = \frac{1-\sqrt{5}}{2}\,.
\end{displaymath}
\end{theorem}



\textbf{הוכחה:}
נוכיח קודם ש-%
$\phi^2=\phi+1$:

\begin{eqn}
\phi^2 &=& \left(\frac{1+\sqrt{5}}{2}\right)^2\\
&=& \frac{1}{4} + \frac{2\sqrt{5}}{4} + \frac{5}{4}\\
&=& \frac{2}{4} + \frac{2\sqrt{5}}{4} + \frac{4}{4}\\
&=& \frac{1+2\sqrt{5}}{2} + 1\\
&=&\phi + 1\,.
\end{eqn}



באופן דומה אפשר להוכיח ש:
$\bar{\phi}^2=\bar{\phi}+1$.

כעת נוכיח את המשפט. טענת הבסיס:
\[
\frac{\phi^1 - \bar{\phi}^1}{\sqrt{5}}=\frac{(1+\sqrt{5})/2-(1-\sqrt{5})/2}{\sqrt{5}}=\frac{2\sqrt{5}}{2\sqrt{5}}=1\,.
\]




הצעד האינדוקטיבי:

\begin{eqn}
\phi^n - \bar{\phi}^n &=& \phi^2\,\phi^{n-2} - \bar{\phi}^2\,\bar{\phi}^{n-2}\\
&=&(\phi+1)\,\phi^{n-2} - (\bar{\phi}+1)\,\bar{\phi}^{n-2}\\
&=&(\phi^{n-1} - \bar{\phi}^{n-1}) + (\phi^{n-2} - \bar{\phi}^{n-2})\\
&=&\sqrt{5}f_{n-1} + \sqrt{5}f_{n-2}\,,
\end{eqn}


לכן:
\[
\frac{\phi^n - \bar{\phi}^n}{\sqrt{5}} = f_{n-1} + f_{n-2} = f_n\,.
\]
\begin{theorem}\label{eq.fibo:combinations}
\[
f_n = {n \choose 0} + {n-1 \choose 1} + {n-2 \choose 2} + \cdots.
\]
\end{theorem}



כדי להוכיח את המשפט, נוכיח תחילה משפט עזר:
\begin{theorem}[\L{Pascal}]
\[
{n \choose k} + {n \choose k+1} = {n+1 \choose k+1}.
\]
\end{theorem}

\textbf{הוכחה:}

\begin{eqn}
{n \choose k} + {n \choose k+1} &=& \frac{n!}{k!(n-k)!} + \frac{n!}{(k+1)!(n-(k+1))!}\\
&=& \frac{(k+1)n!}{(k+1)!(n-k)!} + \frac{n! (n-k)}{(k+1)!(n-k)!}\\
%&=&\frac{n![(k+1)+(n-k)]}{(k+1)!(n-k)!}\\
&=&\frac{n!(n+1)}{(k+1)!(n-k)!}\\
&=&\frac{(n+1)!}{(k+1)!((n+1)-(k+1))!}\\
&=&{n+1 \choose k+1}\,.
\end{eqn}

עכשיו אפשר להוכיח את משפט~%
\ref{eq.fibo:combinations}.
טענת הבסיס:
\[
f_1 = 1 = {1 \choose 0} = \frac{1!}{0!(1-0)!}\,.
\]
הצעד האינדוקטיבי:

\begin{eqn}
f_{n-1} + f_{n-2} &=& {n-1 \choose 0} + {n-2 \choose 1} + {n-3 \choose 2} + {n-4 \choose 3} + \cdots\\
&&\hspace{54pt}{n-2 \choose 0} + {n-3 \choose 1} + {n-4 \choose 2} + \cdots\\
&=&{n-1 \choose 0} + {n-1 \choose 1} + {n-2 \choose 2} + {n-3 \choose 3} + \cdots\\
&=&{n \choose 0}\hspace{20pt} + {n-1 \choose 1} + {n-2 \choose 2} + {n-3 \choose 3} + \cdots.
\end{eqn}
השוויון האחרון משתמש בעובדה ש:
\[
{k \choose 0} = \frac{k!}{0!(k-0)!} = 1\,.
\]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\selectlanguage{hebrew}


\section{מספרי \L{Fermat}}\label{s.induction-fermat}


\textbf{הגדרה:}
מספר פרמה הוא מספר שערכו
$2^{2^{n}}+1$
עבור 
$n\geq 0$.

חמשת מספרי  פרמה הראשונים הם:
\begin{center}

%\renewcommand{\arraystretch}{1}

\begin{tabular}{|c|c|c|c|c|c|}
\hline
$n$ & $0$ & $1$ & $2$ & $3$ & $4$ \\\hline
$2^{2^{n}}+1$ & $3$ & $5$ & $17$ & $257$ & $65537$ \\\hline
\end{tabular}
\end{center}
כל המספרים הללו ראשוניים ו-%
\L{Pierre de Fermat}
שיער שכל מספרי פרמה הם ראשוניים. כעבור כמאה שנים
\L{Leonhard Euler}
הראה ש:
\[
2^{2^5}+1 = 2^{32}+1 = 4294967297 = 641 \times 6700417\,.
\]
ידוע שמספרי פרמה אינם ראשוניים עבור
$5\leq n \leq 32$,
אבל הפירוק לגורמים של חלק מהמספרים הללו עדיין לא ידוע. 
הנה שני משפטים מעניינים על מספרי פרמה:

\begin{theorem}
עבור כל
$n\geq 2$,
הספרה האחרונה של
$F_n$
היא
$7$.
\end{theorem}
\textbf{הוכחה:}
טענת הבסיס:
$F_2=2^{2^2}+1=17$.

הצעד האינדוקטיבי: נניח ש-%
$F_n=10k_n+7$
עבור
$k\geq 1$.
אזי:

\begin{eqn}
F_{n+1}&=&2^{2^{n+1}}+1=\left(2^{2^{n}}\right)^2+1\\
&=&\left(\left(2^{2^{n}}+1\right)-1\right)^2+1\\
&=&\left(2^{2^{n}}+1\right)^2
-2\cdot\left(2^{2^{n}}+1\right)+1+1\\
&=&(10k_n+7)^2-2(10k_n+7)+2\\
%&=&(10k_n+7-1)^2+1=(10k_n+6)^2+1\\
&=&100k_n^2+120k_n+37\\
&=&10(10k_n^2+12k_n+3)+7\\
&=&10k_{n+1}+7\,.
\end{eqn}



\begin{theorem}\label{thm.fermat}
עבור כל
$n\geq 1$, $\displaystyle F_n = \prod_{k=0}^{n-1} F_k + 2$.
\end{theorem}
\textbf{הוכחה:}
טענת הבסיס:
\[
5=F_1=\prod_{k=0}^{0} F_k + 2=F_0+2=3+2\,.
\]
הצעד האינדוקטיבי:

\begin{eqn}
\displaystyle\prod_{k=0}^{n}F_k&=&\left(\displaystyle\prod_{k=0}^{n-1}F_k\right) F_n \\
&=& (F_n-2)F_n\\
&=& F_n^2-2F_n\\
&=& \left(2^{2^n}+1\right)^2-2\cdot \left(2^{2^n}+1\right)\\
&=& 2^{2^{n+1}}-1= (2^{2^{n+1}}+1)-2\\
&=&F_{n+1}-2\\
F_{n+1}&=&\displaystyle\prod_{k=0}^{n}F_k + 2\,.
\end{eqn}

%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\selectlanguage{hebrew}


\section{פונקציה $91$ של
\L{McCarthy}}\label{s.induction-mccarthy}

בסעיף זה נוכיח באינדוקציה תכונה מוזרה של פונקציה רקורסיבית המוגדרת עבור כל המספרים השלמים. ממציא הפונקציה הוא
\L{John McCarthy}.
הגדרתה היא:
\[
f(x) = \textrm{if}\;\; x > 100 \;\;\textrm{then}\;\; x - 10 \;\;\textrm{else}\;\; f(f(x+11))\,.
\]
אם 
$x$
גדול מ-%
$100$,
ערכה של הפונצקיה היא 
$x-10$.
אחרת, חשב את 
$f(x+11)$.
אחר כך, נחשב את הפונקציה עבור התוצאה שהתקבלה.


עבור מספרים גדולים מ-%
$100$,
חישוב הפונקציה פשוטה ביותר:
\[
f(101) = 91, \;\; f(102) = 92,\;\; f(103) = 93,\;\; f(104) = 94\,.
\]
נחשב את ערך הפונקציה עבור קומץ מספרים פחות או שווים  ל-%
$100$:
\begin{eqn}
f(100) &=& f(f(100+11)) = f(f(111)) = f(101) = 91\\
f(99) &=& f(f(99+11)) = f(f(110)) = f(100) = 91\\
f(91) &=& f(f(91+11)) = f(f(102)) = f(92) = f(f(103)) = f(93) = \cdots = 91\\
f(89) &=& f(f(89+11)) = f(f(100)) = f(f(111)) = f(101) = 91\,.
\end{eqn}

\begin{theorem}\mbox{}\\
הפונקציה
$f(x)$
שקולה ל:
\[
g(x) = \textrm{if}\;\; x > 100 \;\;\textrm{then}\;\; x - 10 \;\;\textrm{else}\;\; 91\,.
\]
\end{theorem}

\textbf{הוכחה:}
ההוכחה באינדוקציה מעל קבוצת המספרים:
\[
S=\{x\,|\,x\leq 101\}
\]
היחס "פחות מ"
$\prec$
מוגדר כך:
\[
x \prec y \;\; \textrm{iff}\;\; y < x\,,
\]
בצד הימני 
$<$
הוא היחס הרגיל מעל למספרים שלמים. סדר המספרים לפי
$\prec$
הוא:
\[
101 \prec 100 \prec 99 \prec 98 \prec 97 \prec \cdots\,.
\]
נוכיח את המשפט באינדוקציה על הקבוצה
$S$
עם האופרטור
$\prec$.

\noindent\textbf{מקרה 1}  $x > 100$.
ההוכחה מיידית מההגדרות של 
$f$
ו-
$g$.

\noindent\textbf{מקרה 2} 
$90\leq x \leq 100$.

\noindent{}%
טענת הבסיס:
\[
f(100) = f(f(100+11)) = f(f(111)) = f(101) = 91 = g(100)\,,
\]
הנחת האינדוקציה היא
$f(y) = g(y)$
עבור
$y\prec x$.

\noindent{}%
הצעד האינדוקטיבי:
\begin{eqnlabels}
f(x) &=& f(f(x+11))\label{m91-1}\\
&=& f(x+11-10)= f(x+1)\label{m91-3}\\
&=& g(x+1)\label{m91-4}\\
&=& 91\label{m91-5}\\
&=& g(x)\label{m91-6}\,.
\end{eqnlabels}

משוואה%
~\ref{m91-1}
נכונה מההגדרה של
$f$
כי
$x\leq 100$.
השוויון בין משוואה%
~\ref{m91-1}
לבין משוואה%
~\ref{m91-3}
נכון מההגדרה של
$f$
במקרה זה כי
$x \geq 90$
ולכן
$x+11 > 100$.
השוויון בין משוואה%
~\ref{m91-3}
ומשוואה%
~\ref{m91-4}
נובע מהנחת האינדוקציה:
\[
x\leq 100 \Rightarrow x+1 \leq 101 \Rightarrow x+1\in S \Rightarrow x+1\prec x\,.
\]
השוויון בין המשוואות%
~\ref{m91-4}, \ref{m91-5}, \ref{m91-6}
נכון מההגדרה של 
$g$
ו-%
$x+1 \leq 101$.

\noindent\textbf{מקרה 3} $x< 90$.

\noindent{}%
טענת הבסיס:
\[
f(89) = f(f(100)) = f(f(f(111))) = f(f(101)) = f(91) = 91 = g(89)\,,
\]
לפי ההגדרה של
$g$
כי
$89\leq 00$.

הנחת האינדוקציה היא
$f(y) = g(y)$
עבור
$y\prec x$.

הצעד האינדוקטיבי:

\begin{eqnlabels}
f(x) &=& f(f(x+11))\label{m91a}\\
&=& f(g(x+11))\label{m91b}\\
&=& f(91)\label{m91c}\\
&=& 91\label{m91d}\\
&=& g(x)\,.
\end{eqnlabels}



משוואה%
~\ref{m91a}
נכונה לפי ההגדרה של
$f$
ו-%
$x<90\leq 100$.
השוויון בין המשוואות
\ref{m91a}
ו-%
\ref{m91b}
נובע מהנחת האינדוקציה:
\[
x < 90 \Rightarrow x+11< 101 \Rightarrow x+11\in S \Rightarrow x+11 \prec x\,.
\]
השוויון בין המשוואות%
~\ref{m91b}
ו-%
\ref{m91c}
נכון לפי ההגדרה של
$g$
ו-%
$x+11 < 101$.
לבסוף, כבר הוכחנו ש-%
$f(91)=91$
ולפי ההגדרה
$g(x)=91$
עבור
$x<90$.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{בעיית \L{Josephus}}\label{s.josephus}
\index{Josephus problem}

יוסף בן מתתיהו 
\L{(Titus Flavius Josephus)}
היה מפקד העיר יודפת בזמן המרד הגדול נגד הרומאים. הכוח העצום של הצבא הרומי מחץ את הגנת העיר ויוסף מצא מקלט במערה עם חלק מאנשיו. הם העדיפו להתאבד ולא להיהרג או ליפול בשבי הרואמים, אבל לפי מה שיוסף סיפר הוא מצא דרך להציל את עצמו, נשבה והפך למשקיף עם הרומאים ואחר כך כתב היסטוריה של המרד. נציג את הבעיה הקרויה על שמו כבעיה מתמטית מופשטת.

\begin{definition}[בעיית \L{Josephus}]
המספרים
$1,\ldots,n\!+\!1$
מסודרים במעגל. מחק כל מספר ה-%
$q$
מסביב למעגל
$q, 2q, 3q, \ldots$
(כאשר החישוב נעשה מודולו
$n\!+\!1$)
עד שרק מספר אחד 
$m$
נשאר.
$J(n+1,q)=m$
הוא
\textbf{מספר \L{Josephus}}
עבור
$n+1$
ו-%
$q$.
\end{definition}

\begin{example}
יהי
$n+1=41$
ו-%
$q=3$.
סדרו את המספרים במעגל:
\[
\begin{array}{rrrrrrrrrrrrrrrrrrrrrrr}
\rightarrow&1&2&3&4&5&6&7&8&9&10&
           11&12&13&14&15&16&17&18&19&20&21&
\downarrow\\
\uparrow\quad&41&40&39&38&37&36&35&34&33&
32&31&30&29&28&27&26&25&24&23&22&
&\leftarrow
\end{array}
\]
תוצאת הסבב הראשון של המחיקות היא:
\[
\begin{array}{rrrrrrrrrrrrrrrrrrrrrrr}
\rightarrow&1&2&\not\! 3&4&5&\not\! 6&7&8&\not\! 9&10&
           11&\not\!\! 12&13&14&\not\!\! 15&16&17&\not\!\! 18&19&20&\not\!\! 21&
\downarrow\\
	\uparrow\quad&41&40&\not\!\! 39&38&37&\not\!\! 36&35&34&\not\!\! 33&
32&31&\not\!\! 30&29&28&\not\!\! 27&26&25&\not\!\! 24&23&22&
&\leftarrow
\end{array}
\]
לאחר השמטת המספרים המחוקים נקבל:
\[
\begin{array}{rrrrrrrrrrrrrrrrrrrrrrrrrrrr}
1&2&4&5&7&8&10&11&13&14&16&17&19&20&
22&23&25&26&28&29&31&32&34&35&37&38&40&41
\end{array}
\]
תוצאת הסבב השני של המחיקות היא (כאשר מתחילים מהמחיקה האחרונה
$39$):
\[
\begin{array}{rrrrrrrrrrrrrrrrrrrrrrrrrrrr}
\not\!\! 1&2&4&\not\!\! 5&7&8&\not\!\! 10&11&13&\not\!\! 14&16&17&\not\!\! 19&20&
22&\not\!\! 23&25&26&\not\!\! 28&29&31&\not\!\! 32&34&35&\not\!\! 37&38&40&\not\!\! 41
\end{array}
\]
נמשיך למחוק כל מספר שלישי עד שרק אחד נשאר:
\[
\begin{array}{rrrrrrrrrrrrrrrrrr}
2&4&\not\!7&8&11&\not\!\!13&16&17&\not\!\!20&22&25&\not\!\!26&29&31&\not\!\!34&35&38&\not\!\!40
\\
2&4&\not\!8&11&16&\not\!\!17&22&25&\not\!\!29&31&35&\not\!\!38
\\
2&4&\not\!\!11&16&22&\not\!\!25&31&35
\\
\not\!2&4&16&\not\!\!22&31&35
\\
\not\!4&16&31&\not\!\!35
\\
\not\!\!16&31
\\
31
\end{array}
\]
מכאן ש-%
$J(41,3)=31$.
\end{example}
הקורא מוזמן לבצע את החישוב עבור מחיקת כל מספר שביעי ממעגל של 
$40$
ולבדוק שהמספר האחרון הוא
$30$.

\begin{theorem}\label{thm.jo1}
$J(n+1,q)=(J(n,q)+q) \pmod {n+1}$.
\end{theorem}

\begin{proof}
המספר הראשון שנמחק בסבב הראשון הוא מספר ה-%
$q$
והמספרים שנשארים לאחר המחיקת הם 
$n$
המספרים:
\[
\begin{array}{rrrrrrrr}
\;1&\;2&\;\ldots&\;q-1&\;q+1&\;\ldots&\;n&\;n+1 \pmod {n+1}\,.
\end{array}
\]
נמשיך ונחפש את המחיקה הבאה שמתחילה עם
$q+1$.
מיפוי של
$1,\ldots,n$
אל סדרה זו נותן:
\[
\begin{array}{cccccccccc}
1&\quad 2&\ldots& n-q&\quad n+1-q&\quad n+2-q&\ldots&n-1&\quad n& \!\!\!\!\!\!\pmod {n\!+\!1}\\
\downarrow&\quad \downarrow&&\downarrow&\quad \downarrow&\quad \downarrow&&\downarrow&\quad \downarrow\\
q+1&\quad q+2&\ldots&n&\quad n+1&\quad 1&\ldots&q-2&\quad q-1& \!\!\!\pmod {n\!+\!1}\,.
\end{array}
\]
זיכרו שכל החישובים הם מודולו
$n+1$:
\[
\begin{array}{lclcl}
(n+2-q)+q&=& (n+1)+1&=& 1 \quad\;\;\pmod {n+1}\\
(n)+q&= &(n+1)-1+q&= &q-1\pmod {n+1}\,.
\end{array}
\]
זאת בעיה 
\L{Josephus}
עבור
$n$
מספרים, פרט לעובדה שהמספירם מוזזים ב-%
$q$.
מכאן ש:
\[
J(n+1,q)=(J(n,q)+q) \pmod {n+1}\,.
\vspace{-4ex}
\]
\end{proof}

\begin{theorem}\label{lem.jo}
עבור
$n\geq 1$
קיימים מספרים 
$a\geq 0, 0\leq t < 2^a$
כך ש-%
$n=2^a+t$.
\end{theorem}
\begin{proof}
ההוכחה על ידי שימוש חוזר של אלגוריתם החילוק עם המחלקים 
$2^0, 2^1, 2^2, 2^4,\ldots$,
אבל קל יותר לראות מהייצוג הבינרי של
$n$.
קיימים
$a$
ו-%
$b_{a-1},b_{a-2},\ldots,b_{1},b_{0}$,
כך שעבור כל
$i$, $b_i=0$
או
$b_i=1$,
ניתן לבטא את 
$n$
כ:
\begin{eqn}
n&=&2^a+b_{a-1}2^{a-1}+\cdots+b_{0}2^{0}\\
n&=&2^a+(b_{a-1}2^{a-1}+\cdots+b_{0}2^{0})\\
n&=&2^a+t,\quad \textrm{כאשר}\; t\leq 2^a-1\,.
\end{eqn}
\end{proof}
כעת נוכיח שקיים ביטוי סגור פשוט עבור
$J(n,2)$. 
\begin{theorem}\label{thm.jo2}
For $n=2^a+t$, $a\geq 0, 0\leq t < 2^a$, $J(n,2)=2t+1$.
\end{theorem}

\begin{proof}
לפי משפט%
~\ref{lem.jo}
ניתן לבטא את
$n$
כפי שרשום שם. ההוכחה ש-%
$J(n,2)=2t+1$
היא על ידי אינדוקציה כפולה, תחילה על 
$a$
אחר כך על
$t$.

\textbf{אינדוקציה ראשונה}

טענת בסיס: נניח ש-%
$t=0$
כך ש-%
$n=2^a$.
יהי
$a=1$
כך ששני המספרים הראשונים במעגל הם
$1,2$. 
$q=2$
ולען המספר השני יימחק והמספר שנשאר הוא
$1$
ומכאן ש-%
$J(2^1,2)=1$.

הנחת האינדוקציה היא 
$J(2^a,2)=1$.
מהו
$J(2^{a+1},2)$?
בסבב הראשון מוחקים את כל המספרים הזוגיים:
\[
\begin{array}{rrrrrrrrrrrrrrrrrrrrrrrrrrrr}
1&\quad\not\! 2&\quad3&\quad\not\! 4& \quad\ldots&\quad 2^{a+1}\!-\!1&\quad \not\! 2^{a+1}\,.
\end{array}
\]
כעת נשארו 
$2^a$
מספרים:
\[
\begin{array}{rrrrrrrrrrrrrrrrrrrrrrrrrrrr}
1&\quad3&\quad\ldots&\quad 2^{a+1}\!-\!1\,.
\end{array}
\]
לפי הנחת האינדוקציה
$J(2^{a+1},2)=J(2^a,2)=1$
ולכן לפי אינדוקציה
$J(n,2)=1$
כאשר
$n=2^a+0$.

\textbf{אינדוקציה שניה}

הוכחנו ש-%
$J(2^a+0,2)=2\cdot 0 +1$, 
טענת הבסיס של האינדוקציה השניה.

הנחת האינדוקציה היא
$J(2^a+t,2)=2t+1$.
לפי משפט%
~\ref{thm.jo1}:
\[
J(2^a+(t+1),2)=J(2^a+t,2)+2=2t+1+2=2(t+1)+1\,.
\vspace{-5ex}
\]
\end{proof}

קיים אלגוריתם פשוט ליחשוב
$J(n,2)$
המבוסס על משפטים%
~\ref{lem.jo}
ו%
~\ref{thm.jo2}.
מההוכחה של משפט%
~\ref{lem.jo}:
\[
n=2^a+t=2^a+(b_{a-1}2^{a-1}+\cdots+b_{0}2^{0})\,,
\]
כך ש-%
$t=b_{a-1}2^{a-1}+\cdots+b_{0}2^{0}$.
פשוט נכפיל ב-%
$2$
(על ידי הזזה שמאלה של ספרה אחת) ונוסיף
$1$.
לדוגמה, 
$n=41=2^5+2^3+2^0=101001$
ולכן
$J(41,2)=2t+1$
ובסימון בינארי:
\begin{eqn}
41&=&101001\\
9&=&01001\\
2t+1&=&10011=16+2+1=19\,.
\end{eqn}
הקורא מוסמן לבדוק את התוצאה על ידי מחיקת כל מספר שני במעגל
$1,\ldots,41$.

קיים ביטוי סגור עבור 
$J(n,3)$
אבל הוא מאוד מסובך.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection*{מה ההפתעה?}

אינדוקציה היא אחת ששיטות ההוכחה החשובות ביותר במתמטיקה מודרנית. מספרי
\L{Fibonacci}
מאוד ידועים ומספרי 
\L{Fermat}
קלים להבנה. הופתעתי לגלות כל כך הרבה נוסחאות שלא היכרתי (כגון משפטים%
~\ref{thm.fib-div3}
ו-%
~\ref{thm.seven-fourths})
שניתנות להוכחה באינדוקציה. פונקציה
$91$
של
\L{McCarthy}
התגלתה בהקשר של מדעי המחשב למרות שהיא ניתנת להגדרה מתמטית. מה שמפתיעה איננה הפונקציה עצמה אלא האינדוקציה המוזרה כאשר 
$98\prec 97$. 
ההפתעה בבעיית
\L{Josephus}
היא באינדוקציה הדו-כיוונית בהוכחה.

\subsection*{מקורות}

ניתן למצוא הצגה נרחבת של אינדוקציה ב-%
\L{\cite{gunderson}}.
ההוכחה של פונקציה 
$91$
של
\L{McCarthy}
נמצאת ב-%
\L{\cite{manna}}
שמייחס אותה ל-%
\L{Rod M. Burstall}.
ההצגה של בעיית 
\L{Josephus}
מבוססת על
\L{\cite{gunderson}}
שגם מביא את הרקע ההיסטורי, שם נמצאות בעיות מעניינות אחרות כגון הילדים המרוחים בבוץ, המטבע המזוייפת, ואגורות בקופסה. חומר נוסף על בעיית
\L{Josephus}
ניתן למצוא ב-%
\L{\cite{schumer,wiki:josephus}}.
